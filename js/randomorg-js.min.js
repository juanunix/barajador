!function(e,t){"function"==typeof define&&define.amd?define(t(!0)):"object"==typeof exports?module.exports=t(!0):e.RandomJs=t(!1,!0)}(this,function(e,t){"use strict";function s(e,t){return this instanceof s?(e=e||{},this._request={},this._response={},this._noop=function(){},this._url="https://api.random.org/json-rpc/1/invoke",this._request.url=this._url,this._request.json=!0,this._request.body={},this._request.body.jsonrpc=e.jsonrpc||"2.0",this._request.body.method=e.method||"generateIntegers",this._request.body.params=e.params||n.generateIntegers,this._request.body.id=e.id||0|1e3*Math.random(),this._body=this._request.body,t&&t(this._request),this):new s(e,t)}function r(e,t,s){var r=new XMLHttpRequest,i=!1;r.open("POST",e.url,!0);for(var n in e.headers)r.setRequestHeader(n,e.headers[n]);return r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(e.body)),t=r,r.onreadystatechange=function(){i||4!==r.readyState||(s(r,null,JSON.parse(r.responseText)),i=!0)},r}var i="2dbcb5c9-d4f8-4d19-b1f1-cd5cf3980e97",n={generateIntegers:{apiKey:i,n:3,min:1,max:5},generateDecimalFractions:{apiKey:i,n:3,decimalPlaces:8},generateGaussians:{apiKey:i,n:3,mean:400,standardDeviation:100,significantDigits:8},generateStrings:{apiKey:i,n:3,length:400,characters:"abcdefghijklmnopqrstuvwxyz"},generateUUIDs:{apiKey:i,n:3},generateBlobs:{apiKey:i,n:3,size:1024}};return s.prototype.request=function(e){return e?(e(this._request),this):this._request},s.prototype.apikey=function(e,t){return this._body.params.apiKey=e,t&&t(this._request),this},s.prototype.jsonrpc=function(e,t){return this._body.jsonrpc=e,t&&t(this._request),this},s.prototype.method=function(e,t){return n.hasOwnProperty(e)&&(n[e].apiKey=this._body.params.apiKey,this._body.method=e,this._body.params=n[e]),t&&t(this._request),this},s.prototype.params=function(e,t){if("object"==typeof e){var s=this._body.params;for(var r in e)s.hasOwnProperty(r)&&s!==e[r]&&(s[r]=e[r])}return t&&t(this._request),this},s.prototype.id=function(e,t){return this._body.id=e,t&&t(this._request),this},s.prototype.url=function(e,t){return this._url=e,t&&t(this._request),this},s.prototype.uri=function(e,t){return this.url(e,t),this},s.prototype.callback=function(e,t){return this._noop=e,t&&t(this._request),this},s.prototype.headers=function(e,t){return this._request.headers=e,t&&t(this._request),this},s.prototype.post=function(s,i){var n=s||this._noop;if(e){var o=require("request");o.post(this._request,n)}else t&&r(this._request,this._response,n);i&&i(this._request)},s});